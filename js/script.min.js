function createCatBtn(a,b){var c=$("<li/>"),d=$("<button/>").addClass("btn btn--gradient gradient-gray-bg"),e=$("<i/>").addClass("fa fa-times").text(a);return e.appendTo(d),d.on("click",function(){b.parent().remove()}),d.appendTo(c),c}function addCatBtn(a,b){createCatBtn(a,b).appendTo($(".categories-wrap ul"))}function removeCatBtn(a){$(".content").on("click",".categories-wrap button",function(){$(this).parent().remove()})}function DropDown(a){this.dd=a,this.initEvents(),this.liClick()}function DdCheckbox(a){this.ddCh=a,this.init()}function Row(a){this.r=a,this.init()}$(function(){var a=$(".content");new DropDown(a),new DdCheckbox(a),new Row(a)}),DdCheckbox.prototype={init:function(){var a=this,b=".dd-checkboxes__group input:checkbox";a.ddCheckUncheck("#dd-check-all",b,!0),a.ddCheckUncheck("#dd-uncheck-all",b,!1),a.checkboxAllResults(),a.checkboxResults()},addDdCheckboxes:function(a){var b=this,c=DropDown.prototype.createDdDiv(),d=DropDown.prototype.createDdSpan(),e=DropDown.prototype.createDdMenu(),f=$("<li/>").addClass("li-checkboxes"),g=$("<div/>").addClass("dd-checkboxes");b.ddCheckAllDiv().appendTo(g);for(var h=1;4>h;h++)b.ddCheckGroup([h]).appendTo(g);g.appendTo(f),f.appendTo(e),e.appendTo(c),d.appendTo(c),c.addClass("dropdown--user-options"),c.appendTo(a)},ddCheckGroup:function(a){for(var b=this,c=$("<div/>").addClass("dd-checkboxes__group"),d=($("<p/>").text("Group "+a).appendTo(c),1);4>d;d++)b.ddCheckbox(a,[d]).appendTo(c);return c},ddCheckbox:function(a,b){var c=$("<div/>").addClass("group__checkbox");$('<input type="checkbox">').attr("id","group"+a+"__checkbox-"+b).appendTo(c),$("<label/>").attr("for","group"+a+"__checkbox-"+b).text("Option #"+b+"for group"+a).appendTo(c);return c},ddCheckAllDiv:function(){var a=$("<div/>").addClass("dd-check-links");$("<a/>").attr("id","dd-check-all").text("Check all").appendTo(a),$("<a/>").attr("id","dd-uncheck-all").text("Uncheck all").appendTo(a);return a},ddCheckUncheck:function(a,b,c){var d=this;d.ddCh.on("click",a,function(a){$(b).prop("checked",c)})},ifChecked:function(a,b,c){var d=$(a),e=d.closest(b);d.prop("checked")?e.addClass(c):e.removeClass(c)},unlessNoneChecked:function(a,b){var c=$(a),d=$(b);0===c.length?d.hide():d.show()},checkboxAllResults:function(){var a=this;$("#search-results__checkbox-all").on("change",function(){$(".search-results-td input:checkbox").prop("checked",$(this).prop("checked")),a.unlessNoneChecked(".search-results-td input:checkbox:checked",".search-results__footer"),a.ifChecked(".search-results-td input:checkbox",".search-results__row","checked-row")})},checkboxResults:function(){var a=this;$(".search-results-td input:checkbox").on("change",function(){a.ifChecked(this,".search-results__row","checked-row"),a.unlessNoneChecked(".search-results-td input:checkbox:checked",".search-results__footer")})}},DropDown.prototype={initEvents:function(){var a=this;a.dd.on("click",".dropdown",function(a){$(this).toggleClass("active"),a.stopPropagation()})},liClick:function(){var a=this;a.dd.on("click",".dropdown li",function(b){var c=$(this),d=c.parents(":eq(1)"),e=c.parents(":eq(3)").find(".select-row-wrap"),f=d.find("span"),g=c.text(),h=c.find("a").attr("id");c.is(".li-checkboxes")?b.stopPropagation():(b.preventDefault(),f.text(g),a.whichDropdown(h,e,d))})},whichDropdown:function(a,b,c){var d=this;switch(a){case"reg-date":case"menu--reg-date":var e=["before","after","on"];d.removeSiblings(c),d.addDropDown(b,e);break;case"menu--before":case"menu--after":case"menu--on":d.calendarDropdown(b),Row.prototype.addRemoveBtn(b),Row.prototype.removeRow(b),addCatBtn("Registration",b),removeCatBtn(b);break;case"usergroup":case"menu--usergroup":d.removeSiblings(c),DdCheckbox.prototype.addDdCheckboxes(b),Row.prototype.addRemoveBtn(b),Row.prototype.removeRow(b),addCatBtn("User",b),removeCatBtn(b)}},createDdLi:function(a,b){b=b||a;var c=$("<li/>"),d=$("<a/>").attr("id","menu--"+a).text(b);return d.appendTo(c),c},createDdMenu:function(){var a=$("<ul/>").addClass("dropdown__menu");return a},createDdDiv:function(){var a=$("<div/>").addClass("dropdown gradient-gray-bg");return a},createDdSpan:function(a){a=a||"Choose:";var b=$("<span/>").text(a);return b},calendarDropdown:function(a){var b=this,c=b.createDdDiv(),d=b.createDdSpan(),e=b.createDdMenu(),f=$("<li/>"),g=$("<div/>").addClass("datepicker-here").attr("data-language","en");g.appendTo(f),f.appendTo(e),d.appendTo(c),e.appendTo(c),c.appendTo(a),$(".datepicker-here").datepicker({onSelect:function(a){d.text(a)}})},addDropDown:function(a,b){var c=this,d=c.createDdDiv(),e=c.createDdSpan(),f=c.createDdMenu();$.each(b,function(a){c.createDdLi(this).appendTo(f)}),e.appendTo(d),f.appendTo(d),d.appendTo(a)},removeSiblings:function(a){a.siblings().remove()}},Row.prototype={init:function(){var a=this;a.addRow(),a.removeRowsBtns()},addRow:function(){var a=this,b=1;a.r.on("click","button.btn--green",function(){a.createRow(b).appendTo(".advanced-search__select-area"),b++})},removeRowsBtns:function(){var a=this;a.r.on("click","#remove-all",function(){a.r.find(".categories-wrap li").remove(),a.r.find(".advanced-search__select-row").remove()})},addRemoveBtn:function(a){$("<div/>").addClass("remove btn").text("x").appendTo(a)},removeRow:function(a){a.on("click",".remove",function(){$(this).parents(":eq(1)").remove()})},createRow:function(a){var b=$("<div/>").addClass("advanced-search__select-row"),c=DropDown.prototype.createDdDiv(),d=$("<div/>").addClass("select-row-wrap"),e=DropDown.prototype.createDdSpan(),f=DropDown.prototype.createDdMenu(),g=DropDown.prototype.createDdLi("reg-date","Registration date"),h=DropDown.prototype.createDdLi("usergroup","Usergroup");return g.appendTo(f),h.appendTo(f),e.appendTo(c),f.appendTo(c),c.appendTo(d),d.appendTo(b),b}};